<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/" text="Regresar"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button [disabled]="!canProceed()" routerLink="/info-personal">Siguiente</ion-button>
    </ion-buttons>
    <ion-title>Registro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="registroForm">
    <ion-grid>
      <ion-row class="ion-justify-content-center">
        <ion-col size="auto">
          <ion-img src="assets/icon/upav_img1.JPG" class="app-image"></ion-img>
        </ion-col>
      </ion-row>

      <!-- Apellido paterno -->
      <ion-row>
        <ion-col size="12">
          <ion-item>
            <ion-label position="floating">Apellido paterno</ion-label>
            <ion-input formControlName="lastName"></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="lastNameControl?.invalid && lastNameControl?.touched">
            El apellido paterno es obligatorio
          </ion-text>
        </ion-col>
      </ion-row>

      <!-- Apellido materno -->
      <ion-row>
        <ion-col size="12">
          <ion-item>
            <ion-label position="floating">Apellido materno</ion-label>
            <ion-input formControlName="motherLastName"></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="motherLastNameControl?.invalid && motherLastNameControl?.touched">
            El apellido materno es obligatorio.
          </ion-text>
        </ion-col>
      </ion-row>

      <!-- Nombre(s) -->
      <ion-row>
        <ion-col size="12">
          <ion-item>
            <ion-label position="floating">Nombre(s)</ion-label>
            <ion-input formControlName="firstName"></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="firstNameControl?.invalid && firstNameControl?.touched">
            El nombre es obligatorio.
          </ion-text>
        </ion-col>
      </ion-row>

      <!-- Correo electrónico -->
      <ion-row>
        <ion-col size="12">
          <ion-item>
            <ion-label position="floating">Correo electrónico</ion-label>
            <ion-input formControlName="email"></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="emailControl?.invalid && emailControl?.touched">
            El correo electrónico es obligatorio y debe ser válido.
          </ion-text>
        </ion-col>
      </ion-row>

      <!-- Contraseña -->
      <ion-row>
        <ion-col size="12">
          <ion-item>
            <ion-label position="floating">Contraseña</ion-label>
            <ion-input [type]="passwordVisible ? 'text' : 'password'" formControlName="password"></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="passwordControl?.invalid && passwordControl?.touched">
            La contraseña debe contener al menos 8 caracteres, incluir números y símbolos.
          </ion-text>
        </ion-col>
      </ion-row>

      <!-- Confirmar Contraseña -->
      <ion-row>
        <ion-col size="12">
          <ion-item>
            <ion-label position="floating">Confirmar contraseña</ion-label>
            <ion-input [type]="passwordVisible ? 'text' : 'password'" formControlName="confirmPassword"></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="confirmPasswordControl?.invalid && confirmPasswordControl?.touched">
            La confirmación de la contraseña es obligatoria.
          </ion-text>
        </ion-col>
      </ion-row>

      <!-- Botón para ver/ocultar la contraseña -->
      <ion-row>
        <ion-col size="12">
          <ion-button fill="clear" (click)="togglePasswordVisibility()">
            <ion-icon [name]="passwordVisible ? 'eye-off' : 'eye'"></ion-icon>
            {{ passwordVisible ? 'Ocultar contraseña' : 'Ver contraseña' }}
          </ion-button>
        </ion-col>
      </ion-row>

    </ion-grid>
  </form>
</ion-content>